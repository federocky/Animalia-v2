<main>
    <div class="container">

        <h2>Registro</h2>
        <form novalidate [formGroup]="myForm" (ngSubmit)="onSubmit()">

            <!--NOMBRE-->
            <div class="form-group">
                <label>Nombre:</label>
                <input 
                    type="text" 
                    class="form-control"
                    [ngClass]="{ 'is-invalid': name.invalid && ( name.dirty || name.touched),
                            'is-valid': name.valid       && ( name.dirty || name.touched)}"
                    formControlName="name"
                    >

                <div class="invalid-feedback" *ngIf="name.errors && (name.dirty || name.touched)">
                    <span *ngIf="name.errors.required">Debe rellenar el nombre</span>
                </div>
            </div>

            <!--APELLIDOS-->
            <div class="form-group">
                <label>Apellidos:</label>
                <input 
                    type="text" 
                    class="form-control"
                    [ngClass]="{ 'is-invalid': surname.invalid && ( surname.dirty || surname.touched),
                            'is-valid': surname.valid       && ( surname.dirty || surname.touched)}"
                    formControlName="surname">
                    
                <div class="invalid-feedback" *ngIf="surname.errors && (surname.dirty || surname.touched)">
                    <span *ngIf="surname.errors.required">Debe rellenar algún apellido</span>
                </div>
            </div>

            <!--TELEFONO-->
            <div class="form-group">
                <label>Movil:</label>
                <input 
                    type="text" 
                    class="form-control"
                    [ngClass]="{ 'is-invalid': phone.invalid && ( phone.dirty || phone.touched),
                            'is-valid': phone.valid       && ( phone.dirty || phone.touched)}"
                    formControlName="phone">
                    
                <div class="invalid-feedback" *ngIf="phone.errors && (phone.dirty || phone.touched)">
                    <span *ngIf="phone.errors.required">Debe rellenar su telefono</span>
                </div>
            </div>

            <!--EMAIL-->
            <div class="form-group">
                <label>Email:</label>
                <input 
                    type="email" 
                    class="form-control"
                    [ngClass]="{ 'is-invalid': email.invalid && ( email.dirty || email.touched),
                              'is-valid': email.valid     && ( email.dirty || email.touched)}"
                    formControlName="email">

                <div class="invalid-feedback" *ngIf="email.errors && (email.dirty || email.touched)">
                    <span *ngIf="email.errors.required">Debe ingresar su email</span>
                    <span *ngIf="email.errors.pattern">Email no válido</span>
                </div>
            </div>


            <!--PASSWORD-->
            <div class="form-group">
                <label>Contraseña:</label>
                <input 
                    type="password" 
                    class="form-control"
                    [ngClass]="{ 'is-invalid': password.invalid && ( password.dirty || password.touched),
                              'is-valid': password.valid     && ( password.dirty || password.touched)}"
                    formControlName="password">

                <div class="invalid-feedback" *ngIf="password.errors && (password.dirty || password.touched)">
                    <span *ngIf="password.errors.required">Debe ingresar una contraseña</span>
                    <span *ngIf="password.errors.minlength">El password debe contener al menos 8 caracteres</span>
                </div>
            </div>

            <!--PASSWORD REPEAT-->
            <div class="form-group">
                <label>Confirmar contraseña:</label>
                <input 
                    type="password" 
                    class="form-control"
                    [ngClass]="{ 'is-invalid': repeatPassword.invalid && ( repeatPassword.dirty || repeatPassword.touched),
                              'is-valid': repeatPassword.valid     && ( repeatPassword.dirty || repeatPassword.touched)}"
                    formControlName="repeatPassword">

                <div class="invalid-feedback" *ngIf="repeatPassword.errors && (repeatPassword.dirty || repeatPassword.touched)">
                  <span *ngIf="repeatPassword.errors.required">Debe ingresar una contraseña</span>
                  <span *ngIf="repeatPassword.errors.noEsIgual">Las contraseñas no coinciden</span>
                </div>
            </div>

            <button type="submit">Registrarse</button>

            <p>¿Ya estas registrado? <a [routerLink]="['/login']">Inicia sesión</a></p>
        </form>

    </div>
</main>